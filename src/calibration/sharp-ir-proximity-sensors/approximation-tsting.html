<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Flot Examples</title>
    <link href="layout.css" rel="stylesheet" type="text/css"></link>
    <!--[if IE]><script language="javascript" type="text/javascript" src="flot/excanvas.pack.js"></script><![endif]-->
    <script language="javascript" type="text/javascript" src="flot/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="flot/jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="approximation.js"></script>
 </head>
    <body>
    

    <div id="placeholder" style="width:1000px;height:650px"></div>

    <p>Flot support approximation (smooth). If number of data points == degree of a polynomial then it's interpolation.
    </p>

    <ul>
      <li>
	degree of a polynomial = 1, coeff =    
	<div class="n1">
	  n11
	</div>
      <li/>

      <li>
	degree of a polynomial = 2, coeff =    
	<div class="n2">
	  n22
	</div>
      <li/>

      <li>
	degree of a polynomial = 3, coeff =    
	<div class="n3">
	  n22
	</div>
      <li/>

      <li>
	degree of a polynomial = 4, coeff =    
	<div class="n4">
	  n22
	</div>
      <li/>
    <ul/>

<script id="source" language="javascript" type="text/javascript">

$(function () {
    //var d0 = [[0, 0.2], [2, 5], [4, 8.2], [6, 8], [8, 9.8], [10, 8.2], [12, 5]];










//                                                              GP2Y0A21YK0F  10-80

//                   adc, 1/x
var d0 = [
[                     81, 0.012607795231159657],
[                    123, 0.020133593706147028],
[                    150,  0.02541648325351784],
[                    188,  0.03357509402078059],
[                    221,  0.04010174629013056],
[                    269,  0.05046958689942658],
[                    336,  0.06639152232421143],
[                    476,  0.10041389823598404],
[                    561,  0.12437568133676428],
[                    609,  0.14207965399171021],
[                    643,  0.16598294183858264]];
//[                    630,  0.19937014201347755]];


/*
//                V, 1/x
var d0 = [
[0.3958295656629593, 0.012607795231159657],
[0.6015311812400157, 0.020133593706147028],
[0.7333864574856075,  0.02541648325351784],
[0.9212330831600205,  0.03357509402078059],
[1.0799631521837418,  0.04010174629013056],
[1.3159285800403895,  0.05046958689942658],
[ 1.641287639027037,  0.06639152232421143],
[2.3274651867257434,  0.10041389823598404],
[2.7405695210537417,  0.12437568133676428],
[2.9776426440003614,  0.14207965399171021],
[3.1423991017873827,  0.16598294183858264]];
//[3.0798802634355122,  0.19937014201347755]];
*/



/*
//                    adc, x
var d0 = [
[                     81,  79.31600899803166],
[                    123,  49.66823184152604],
[                    150, 39.344546215361724],
[                    188, 29.783982120230885],
[                    221, 24.936569913069096],
[                    269, 19.813912921315424],
[                    336, 15.062164038304081],
[                    476,  9.958780782017712],
[                    561,  8.040156960365607],
[                    609,  7.038305428716388],
[                    643,  6.024715485356885]];
//[                    630,  5.015796196465564]];
*/

/*
//                 V, x
var d0 = [
[0.3958295656629593,  79.31600899803166],
[0.6015311812400157,  49.66823184152604],
[0.7333864574856075, 39.344546215361724],
[0.9212330831600205, 29.783982120230885],
[1.0799631521837418, 24.936569913069096],
[1.3159285800403895, 19.813912921315424],
[ 1.641287639027037, 15.062164038304081],
[2.3274651867257434,  9.958780782017712],
[2.7405695210537417,  8.040156960365607],
[2.9776426440003614,  7.038305428716388],
[3.1423991017873827,  6.024715485356885]];
//[3.0798802634355122,  5.015796196465564]];
*/



/*
//                                                              GP2Y0A02YK 20-150
//                   adc, 1/x
var d0 = [
[                     90, 0.006724963761265521],
[                     97, 0.007296905527194807],
[                    102, 0.007869477531984623],
[                    112, 0.008441734417344176],
[                    122, 0.009299804625953237],
[                    134, 0.010158189953992564],
[                    149, 0.011302703724711666],
[                    169, 0.012733030818680281],
[                    186,   0.0144501165941892],
[                    215,  0.01673882901619714],
[                    255,  0.02017237032835445],
[                    314, 0.025036553853910633],
[                    407,  0.03333396357219386],
[                    518,  0.05021491145144011],
[                    565,  0.06681004600743683]];
//[                    476,                  0.1]];
*/

/*
//                 V, 1/x
var d0 = [
[0.43887380681320604, 0.006724963761265521],
[ 0.4749452666608284, 0.007296905527194807],
[ 0.4989841492249759, 0.007869477531984623],
[ 0.5470881863560733, 0.008441734417344176],
[ 0.5951790874857693, 0.009299804625953237],
[ 0.6553025658989404, 0.010158189953992564],
[ 0.7274586215955863, 0.011302703724711666],
[ 0.8236404238549786, 0.012733030818680281],
[ 0.9078159208336982,   0.0144501165941892],
[ 1.0521017602241878,  0.01673882901619714],
[ 1.2444916367457746,  0.02017237032835445],
[ 1.5330633155267537, 0.025036553853910633],
[  1.989972852263771,  0.03333396357219386],
[  2.531071021980909,  0.05021491145144011],
[  2.759532358350118,  0.06681004600743683]];
//[ 2.3266617041772486,                  0.1]];
*/




/*
//                    adc, x
var d0 = [
[                     90, 148.69968605032565],
[                     97, 137.04439454137156],
[                    102, 127.07323909822607],
[                    112, 118.45906902086674],
[                    122, 107.52914068853347],
[                    134,  98.44273483062415],
[                    149,  88.47440615590497],
[                    169,  78.53589724552675],
[                    186,  69.20359385903697],
[                    215,   59.7413354920085],
[                    255, 49.572756385222206],
[                    314,  39.94159922467936],
[                    407, 29.999432795749748],
[                    518, 19.914403333500672],
[                    565, 14.967808881447066]];
//[                    476,               10.0]];
*/


/*
//                  V, x
var d0 = [
[0.43887380681320604, 148.69968605032565],
[ 0.4749452666608284, 137.04439454137156],
[ 0.4989841492249759, 127.07323909822607],
[ 0.5470881863560733, 118.45906902086674],
[ 0.5951790874857693, 107.52914068853347],
[ 0.6553025658989404,  98.44273483062415],
[ 0.7274586215955863,  88.47440615590497],
[ 0.8236404238549786,  78.53589724552675],
[ 0.9078159208336982,  69.20359385903697],
[ 1.0521017602241878,   59.7413354920085],
[ 1.2444916367457746, 49.572756385222206],
[ 1.5330633155267537,  39.94159922467936],
[  1.989972852263771, 29.999432795749748],
[  2.531071021980909, 19.914403333500672],
[  2.759532358350118, 14.967808881447066]];
//[ 2.3266617041772486,               10.0]];
*/











/*
//                                                              GP2Y0A710K 100-550
//                   adc, 1/x
var d0 = [
[                    280,  0.001832214647686916],
[                    285, 0.0019962269872464003],
[                    288, 0.0022149101066590467],
[                    295, 0.0025145059802543722],
[                    305, 0.0028709594648969857],
[                    318,  0.003334567678051796],
[                    341,  0.003990617036289735],
[                    371,  0.005000933047976161],
[                    421,  0.006667298417900526],
[                    508,                  0.01]];
*/

/*
//                V, 1/x
var d0 = [
[1.3706293706293706,  0.001832214647686916],
[1.3951048951048952, 0.0019962269872464003],
[1.4078321678321677, 0.0022149101066590467],
[ 1.444055944055944, 0.0025145059802543722],
[ 1.493006993006993, 0.0028709594648969857],
[1.5546853146853146,  0.003334567678051796],
[1.6643356643356644,  0.003990617036289735],
[1.8111888111888113,  0.005000933047976161],
[ 2.055944055944056,  0.006667298417900526],
[ 2.484755244755245,                  0.01]];
*/



/*
//                    adc, x
var d0 = [
[                    280,  545.7875807632323],
[                    285,  500.9450360048494],
[                    288, 451.48559166962866],
[                    295,  397.6924325703286],
[                    305,  348.3156109401501],
[                    318, 299.88895009749655],
[                    341, 250.58781409146368],
[                    371, 199.96268504428232],
[                    421,  149.9857869441055],
[                    508,              100.0]];
*/



/*
//                 V, x
var d0 = [
[1.3706293706293706,  545.7875807632323],
[1.3951048951048952,  500.9450360048494],
[1.4078321678321677, 451.48559166962866],
[ 1.444055944055944,  397.6924325703286],
[ 1.493006993006993,  348.3156109401501],
[1.5546853146853146, 299.88895009749655],
[1.6643356643356644, 250.58781409146368],
[1.8111888111888113, 199.96268504428232],
[ 2.055944055944056,  149.9857869441055],
[ 2.484755244755245,              100.0]];
*/














var degree = 3;

    var a1 = calculate_approximation_coeff(d0, 1);
    var a2 = calculate_approximation_coeff(d0, 2);
    var a3 = calculate_approximation_coeff(d0, 3);
    var a4 = calculate_approximation_coeff(d0, 4);


    var d1 = approximation(d0, 1, 30);
    var d2 = approximation(d0, 2, 30);
    var d3 = approximation(d0, 3, 30);
    var d4 = approximation(d0, 4, 30);
    
    
    plot = $.plot($("#placeholder"), [
        {
            data: d0,
            points: { show: true }
        },
        {
            data: d1,
            lines: { show: true }
        },
        {
            data: d2,
            lines: { show: true }
        },
        {
            data: d3,
            lines: { show: true }
        },
        {
            data: d4,
            lines: { show: true }
        }
    ]);



$("div.n1").text(a1.join(' '));
$("div.n2").text(a2.join(' '));
$("div.n3").text(a3.join(' '));
$("div.n4").text(a4.join(' '));


});





</script>

 </body>
</html>
